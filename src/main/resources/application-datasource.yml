spring:
  datasource:
    hikari:
      leak-detection-threshold: 10000
      connection-timeout: 15000
      max-lifetime: 58000
      idle-timeout: 0
      transaction-isolation: TRANSACTION_READ_COMMITTED
      pool-name: hikari-rw-pool
      data-source-properties:
        cachePrepStmts: true
        prepStmtCacheSize: 250
        prepStmtCacheSqlLimit: 2048
        useServerPrepStmts: true
        useLocalSessionState: true
        rewriteBatchedStatements: true
        cacheResultSetMetadata: true
        cacheServerConfiguration: true
        elideSetAutoCommits: true
        maintainTimeStats: false
      auto-commit: false

---
spring:
  config:
    activate:
      on-profile: dev, local
  datasource:
    hikari:
      username: blinker_user
      password: "{62fN9<TefKgbHd0"
      jdbc-url: jdbc:postgresql://34.22.85.112:5432/blinker?ssl=true&sslmode=verify-ca&sslrootcert=/app/config/server-ca-final.pem

---
spring:
  config:
    activate:
      on-profile: test
  datasource:
    url: jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE;DATABASE_TO_UPPER=FALSE;NON_KEYWORDS=year
    hikari:
      username: sa
      password:
      maximum-pool-size: 32
      minimum-idle: 5
      driver-class-name: org.h2.Driver

---
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    hikari:
      username: blinker_user
      password: "{62fN9<TefKgbHd0"
      jdbc-url: jdbc:postgresql://34.22.85.112:5432/blinker?ssl=true&sslmode=verify-ca&sslrootcert=/app/config/server-ca-final.pem
      maximum-pool-size: 10
      minimum-idle: 2
      idle-timeout: 30000
      connection-timeout: 20000
      max-lifetime: 1800000
      pool-name: hikari-rw-pool